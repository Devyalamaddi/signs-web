import {runPreprocessSteps} from '../src/components/Classifier'

describe('examples', () => {
    it('handles a basic assertion', () => {
      expect(42).toBe(42);
    })
})

describe('classifier', ()=>{
    it('pre process correctly', ()=>{
        const correctlyPreprocessed = []
        const preProcessed = runPreprocessSteps()
        expeect(preProcessed).toBe(correctlyPreprocessed)
    })
})

// Not proper tests, tests were run on reple and inputs/ outputs were saved here for future reference
function normalizeMovement(landmarks) {
    const origin = landmarks[0]
    const normalized = landmarks.map(landmark => [landmark[0] - origin[0], landmark[1] - origin[1], landmark[2] - origin[2]])

    return normalized
}
const input = [[0.12916257977485657, 0.6669284105300903, 0.0000005],
                [0.19915251433849335, 0.6252729296684265, -0.025281822308897972],
                [0.2569730281829834, 0.5577287077903748, -0.03176458552479744],
                [0.29888710379600525, 0.495349645614624, -0.036887526512145996],
                [0.33298933506011963, 0.4516623914241791, -0.04114971309900284],
                [0.2167578637599945, 0.4554523825645447, 0.0013439585454761982],
                [0.24108736217021942, 0.37097349762916565, -0.009149455465376377],
                [0.25029873847961426, 0.3193632662296295, -0.02236662246286869],
                [0.25695210695266724, 0.27322307229042053, -0.03248090669512749],
                [0.1796128749847412, 0.4416337311267853, 0.0029476438648998737],
                [0.20054547488689423, 0.3515053987503052, -0.004890798591077328],
                [0.21257251501083374, 0.29389503598213196, -0.01875048317015171],
                [0.22257906198501587, 0.24550750851631165, -0.029583381488919258],
                [0.1403188705444336, 0.443098247051239, -0.00030933006200939417],
                [0.15258841216564178, 0.3554060459136963, -0.0099945655092597],
                [0.16394123435020447, 0.30211561918258667, -0.020518245175480843],
                [0.17508232593536377, 0.2587372660636902, -0.028138941153883934],
                [0.09694679081439972, 0.4555051922798157, -0.006637724116444588],
                [0.10199353098869324, 0.3867417573928833, -0.016510093584656715],
                [0.10778825730085373, 0.3411574065685272, -0.02101042866706848],
                [0.1160956397652626, 0.2981507182121277, -0.023680033162236214]]
correct_normalized = [[0.0, 0.0, 0.0], [0.06998993456363678, -0.04165548086166382, -0.025282322308897973],
                                 [0.12781044840812683, -0.10919970273971558, -0.03176508552479744],
                                 [0.16972452402114868, -0.1715787649154663, -0.036888026512146],
                                 [0.20382675528526306, -0.21526601910591125, -0.04115021309900284],
                                 [0.08759528398513794, -0.21147602796554565, 0.0013434585454761981],
                                 [0.11192478239536285, -0.2959549129009247, -0.009149955465376378],
                                 [0.12113615870475769, -0.3475651443004608, -0.02236712246286869],
                                 [0.12778952717781067, -0.3937053382396698, -0.03248140669512749],
                                 [0.050450295209884644, -0.22529467940330505, 0.0029471438648998737],
                                 [0.07138289511203766, -0.31542301177978516, -0.004891298591077327],
                                 [0.08340993523597717, -0.3730333745479584, -0.01875098317015171],
                                 [0.0934164822101593, -0.4214209020137787, -0.02958388148891926],
                                 [0.011156290769577026, -0.22383016347885132, -0.0003098300620093942],
                                 [0.023425832390785217, -0.31152236461639404, -0.009995065509259701],
                                 [0.0347786545753479, -0.36481279134750366, -0.020518745175480843],
                                 [0.0459197461605072, -0.40819114446640015, -0.028139441153883935],
                                 [-0.03221578896045685, -0.21142321825027466, -0.006638224116444587],
                                 [-0.02716904878616333, -0.28018665313720703, -0.016510593584656716],
                                 [-0.021374322474002838, -0.3257710039615631, -0.021010928667068482],
                                 [-0.013066940009593964, -0.36877769231796265, -0.023680533162236214]]
const normalized = normalizeMovement(input)
console.log(normalized[20])
console.log(correct_normalized[20])